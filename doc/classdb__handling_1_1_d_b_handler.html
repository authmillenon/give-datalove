<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>give.datalove.me: db_handling.DBHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacedb__handling.html">db_handling</a>      </li>
      <li><a class="el" href="classdb__handling_1_1_d_b_handler.html">db_handling.DBHandler</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>db_handling.DBHandler Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="db_handling::DBHandler" -->
<p>This class is the wrapper for all database operations of the web application.  
<a href="#_details">More...</a></p>

<p><a href="classdb__handling_1_1_d_b_handler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#a54effac497afe59b8006494cc4454409">__init__</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The constructor.  <a href="#a54effac497afe59b8006494cc4454409"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#a6964d819044092a1295e0207c07f8998">create_user</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new user in the database table users.  <a href="#a6964d819044092a1295e0207c07f8998"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#ab2003991a93d1c3f5219b9351a82f25b">drop_user</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drops a user from the database.  <a href="#ab2003991a93d1c3f5219b9351a82f25b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#a8f17386333f7ed91a017b892fed5d4b0">user_login</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the login process for a user in the database layer.  <a href="#a8f17386333f7ed91a017b892fed5d4b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#a379abbbc6ff7831fdb06617d18949739">user_logoff</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the logoff process for a user in the database layer.  <a href="#a379abbbc6ff7831fdb06617d18949739"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdb__handling_1_1_d_b_handler.html#a5bca61f26c70865c7f6501e76d373dba">get_session</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets user information is the session is associated to a user.  <a href="#a5bca61f26c70865c7f6501e76d373dba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dc6234989c81a7ce9d1c403334daa3f"></a><!-- doxytag: member="db_handling::DBHandler::change_email_address" ref="a0dc6234989c81a7ce9d1c403334daa3f" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>change_email_address</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ea6db043fcb5f05b4302c49ee576f15"></a><!-- doxytag: member="db_handling::DBHandler::reset_password" ref="a6ea6db043fcb5f05b4302c49ee576f15" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>reset_password</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae923572c9ffd83a562a434f7a175b54"></a><!-- doxytag: member="db_handling::DBHandler::change_password" ref="aae923572c9ffd83a562a434f7a175b54" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>change_password</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89d9c1c13f999631dfef0033c2910bd5"></a><!-- doxytag: member="db_handling::DBHandler::spread_free_datalove" ref="a89d9c1c13f999631dfef0033c2910bd5" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>spread_free_datalove</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a1b54d4ed93e33b97bebd24deaa190b"></a><!-- doxytag: member="db_handling::DBHandler::send_datalove" ref="a2a1b54d4ed93e33b97bebd24deaa190b" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>send_datalove</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cf4487505071517b5790af0a4bb6b33"></a><!-- doxytag: member="db_handling::DBHandler::get_available_love" ref="a4cf4487505071517b5790af0a4bb6b33" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_available_love</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aded6db19dbcf2829597e52daeef5702c"></a><!-- doxytag: member="db_handling::DBHandler::get_received_love" ref="aded6db19dbcf2829597e52daeef5702c" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_received_love</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a420c467b27d4ba240f10b6ab243d4129"></a><!-- doxytag: member="db_handling::DBHandler::__update_love__" ref="a420c467b27d4ba240f10b6ab243d4129" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__update_love__</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa12edb8689eb84d2a907b9b2208afcc0"></a><!-- doxytag: member="db_handling::DBHandler::__user_exists__" ref="aa12edb8689eb84d2a907b9b2208afcc0" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__user_exists__</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ec80a483b1a4f4aafb036b01c765821"></a><!-- doxytag: member="db_handling::DBHandler::__check_session_id__" ref="a6ec80a483b1a4f4aafb036b01c765821" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__check_session_id__</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a269fa58a009a7a909b62b1ab2d6d2491"></a><!-- doxytag: member="db_handling::DBHandler::__check_pw_hash_length__" ref="a269fa58a009a7a909b62b1ab2d6d2491" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__check_pw_hash_length__</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a393a173cf430c8fee44b7e8311a5091e"></a><!-- doxytag: member="db_handling::DBHandler::__check_password__" ref="a393a173cf430c8fee44b7e8311a5091e" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__check_password__</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acce200b7ffd420422c8ce7172f3dabdb"></a><!-- doxytag: member="db_handling::DBHandler::__select_user__" ref="acce200b7ffd420422c8ce7172f3dabdb" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>__select_user__</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25ba205a2c93f40ada662a3a3757a409"></a><!-- doxytag: member="db_handling::DBHandler::db" ref="a25ba205a2c93f40ada662a3a3757a409" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>db</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class is the wrapper for all database operations of the web application. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a54effac497afe59b8006494cc4454409"></a><!-- doxytag: member="db_handling::DBHandler::__init__" ref="a54effac497afe59b8006494cc4454409" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>db</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>A web.py <code>web.db.DB</code> object. You can construct such an object e. g. with web.py's <code>web.database()</code> function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6964d819044092a1295e0207c07f8998"></a><!-- doxytag: member="db_handling::DBHandler::create_user" ref="a6964d819044092a1295e0207c07f8998" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.create_user </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>nickname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>email</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>available_love</em> = <code><a class="el" href="namespacedb__handling.html#aed639fdd6adc047fbd574900d5e22bc4">DEFAULT_STARTING_LOVE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>pw_as_hash</em> = <code>True</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new user in the database table users. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nickname</em>&nbsp;</td><td>The new user's nickname. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>The new user's password. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>email</em>&nbsp;</td><td>(optional) The new user's email address. If it is set, it has to contain an <code>'@'</code> character, otherwise an <a href="http://docs.python.org/release/2.5.2/lib/module-exceptions.html#l2h-101"><code>AssertionError</code></a> is raised. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>available_love</em>&nbsp;</td><td>(optional) The available love the user gets on account creation. By default it is set on the value of <code><a class="el" href="namespacedb__handling.html#aed639fdd6adc047fbd574900d5e22bc4">DEFAULT_STARTING_LOVE</a></code>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pw_as_hash</em>&nbsp;</td><td>(optional) Flag to determine whether the password comes as a hash or in clear text. By default it is set to <code><b>True</b></code> i. e. the function asserts <em>password</em> value as a hash. If <em>password</em> has in this case not the length defined by <code><a class="el" href="namespacedb__handling.html#ad52724ef8435c69264a7e69f3dab07a5">PW_HASH_LEN</a></code> a <code><a class="el" href="classdb__handling_1_1_wrong_password_exception.html">WrongPasswordException</a></code> is raised. If <em>pw_as_hash</em> is <code><b>False</b></code> the function hashes the password with SHA-256 before the insertion to the database. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>AssertionError</em>&nbsp;</td><td>Is raised if eather the <em>nickname</em> or <em>password</em> are not set, if the <em>nickname</em>'s or the <em>email</em>'s length (if given) does not equal <code><a class="el" href="namespacedb__handling.html#afef78bd1cb7aed0021e06f0d45edd1f6">MAX_NICK_LEN</a></code> or <code><a class="el" href="namespacedb__handling.html#aef7ab3b54a7f04d8cd800df985319240">MAX_MAIL_LEN</a></code> respectively, or if <em>email</em> does not contain an <code>'@'</code> character. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_user_exception.html" title="This Exception is raised in any situation that involves the existence of users.">UserException</a></em>&nbsp;</td><td>Is raised if a user identified by <em>nickname</em> already exists. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_wrong_password_exception.html" title="This Exception is raised in any situation that involves the existence of users.">WrongPasswordException</a></em>&nbsp;</td><td>Is raised if the <em>password</em> is not as long as <code><a class="el" href="namespacedb__handling.html#ad52724ef8435c69264a7e69f3dab07a5">PW_HASH_LEN</a></code>, though <em>pw_as_hash</em> is set <code><b>True</b></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab2003991a93d1c3f5219b9351a82f25b"></a><!-- doxytag: member="db_handling::DBHandler::drop_user" ref="ab2003991a93d1c3f5219b9351a82f25b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.drop_user </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>nickname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>session_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drops a user from the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nickname</em>&nbsp;</td><td>The nickname of the user. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>session_id</em>&nbsp;</td><td>The ID of the session the user currently uses in the web application. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_user_exception.html" title="This Exception is raised in any situation that involves the existence of users.">UserException</a></em>&nbsp;</td><td>Is raised if there is no user with the given <em>nickname</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_illegal_session_exception.html" title="This Exception is raised in any situation that causes errors with the session_id.">IllegalSessionException</a></em>&nbsp;</td><td>Is raised if the <em>session_id</em> is not associated to the user identified by <em>nickname</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5bca61f26c70865c7f6501e76d373dba"></a><!-- doxytag: member="db_handling::DBHandler::get_session" ref="a5bca61f26c70865c7f6501e76d373dba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.get_session </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>session_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets user information is the session is associated to a user. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session_id</em>&nbsp;</td><td>The ID of the web application session the user is currently assossiated with. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_illegal_session_exception.html" title="This Exception is raised in any situation that causes errors with the session_id.">IllegalSessionException</a></em>&nbsp;</td><td>If the <em>session_id</em> is not associated to the user identified by <em>nickname</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8f17386333f7ed91a017b892fed5d4b0"></a><!-- doxytag: member="db_handling::DBHandler::user_login" ref="a8f17386333f7ed91a017b892fed5d4b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.user_login </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>nickname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>session_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>pw_as_hash</em> = <code>True</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the login process for a user in the database layer. </p>
<p>i. e. the <code>session_id</code> of the web application is associated to this specific user. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nickname</em>&nbsp;</td><td>The new user's nickname. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>The new user's password. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>session_id</em>&nbsp;</td><td>The ID of the session currently in use of the web application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pw_as_hash</em>&nbsp;</td><td>(optional) Flag to determine whether the password comes as a hash or in clear text. By default it is set to <code><b>True</b></code> i. e. the function asserts <em>password</em> value as a hash. If <em>password</em> has in this case not the length defined by <code><a class="el" href="namespacedb__handling.html#ad52724ef8435c69264a7e69f3dab07a5">PW_HASH_LEN</a></code> a <code><a class="el" href="classdb__handling_1_1_wrong_password_exception.html">WrongPasswordException</a></code> is raised. If <em>pw_as_hash</em> is <code><b>False</b></code> the function hashes the password with SHA-256 before the insertion to the database. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_user_exception.html" title="This Exception is raised in any situation that involves the existence of users.">UserException</a></em>&nbsp;</td><td>If there is no user with the given <em>nickname</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_illegal_session_exception.html" title="This Exception is raised in any situation that causes errors with the session_id.">IllegalSessionException</a></em>&nbsp;</td><td>If the <em>session_id</em> was not generated by the web application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_wrong_password_exception.html" title="This Exception is raised in any situation that involves the existence of users.">WrongPasswordException</a></em>&nbsp;</td><td>Is raised if the <em>password</em> is not as long as <code><a class="el" href="namespacedb__handling.html#ad52724ef8435c69264a7e69f3dab07a5">PW_HASH_LEN</a></code>, though <em>pw_as_hash</em> is set <code><b>True</b></code> or if the <em>password</em> is just wrong. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a379abbbc6ff7831fdb06617d18949739"></a><!-- doxytag: member="db_handling::DBHandler::user_logoff" ref="a379abbbc6ff7831fdb06617d18949739" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def db_handling.DBHandler.user_logoff </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>nickname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>session_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the logoff process for a user in the database layer. </p>
<p>i. e. the association of the <code>session_id</code> to a specific user is removed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nickname</em>&nbsp;</td><td>The new user's nickname. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>session_id</em>&nbsp;</td><td>The ID of the web application session the user is currently assossiated with. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_user_exception.html" title="This Exception is raised in any situation that involves the existence of users.">UserException</a></em>&nbsp;</td><td>If there is no user with the given <em>nickname</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classdb__handling_1_1_illegal_session_exception.html" title="This Exception is raised in any situation that causes errors with the session_id.">IllegalSessionException</a></em>&nbsp;</td><td>If the <em>session_id</em> is not associated to the user identified by <em>nickname</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>db_handling.py</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 17 2011 16:08:54 for give.datalove.me by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
